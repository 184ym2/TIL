# .NET SDK とプロジェクトのバージョン管理

.NET SDK の最新バージョンをインストールすると、通常はその SDK に対応する最新のランタイムも含まれます。しかし、実際に使用されるランタイムは、プロジェクトの設定や `global.json` ファイルの内容によって異なります。PC内に複数の .NET SDK やランタイムのバージョンがインストールされていても、プロジェクトファイルや `global.json` ファイルで明示的に指定されているバージョンが優先されます。

## 1. SDK とプロジェクトのバージョンの関係
- .NET SDK とプロジェクトの .NET Core のバージョンを必ずしも一致させる必要はありませんが、最新の SDK を使用することが推奨されます。
- プロジェクトのターゲット フレームワークは、プロジェクトファイル内の `<TargetFramework>` 要素で指定します。


## 2. `global.json` ファイルの役割
- `global.json` ファイルで特定の SDK バージョンを指定すると、そのバージョンが優先されます。  
  ※ `rollForward` オプションを使用して、特定のバージョンが見つからない場合に最新のバージョンにロールフォワードするように設定することもできます。
  
- 最新の SDK を使用したい場合は、`global.json` ファイルを削除するか、最新のバージョンに更新する必要があります。

### `rollForward` オプションの例

| オプション         | 説明                                                                                          |
|--------------------|-----------------------------------------------------------------------------------------------|
| `LatestPatch`       | 指定されたSDKバージョンが存在しない場合、同じメジャーバージョンとマイナーバージョン内で最新のパッチバージョンを使用します。 |
| `Minor`             | 指定されたバージョンが見つからない場合、メジャーバージョンが同じであれば最新のマイナーバージョンを使用します。        |
| `Major`             | 指定されたバージョンが見つからない場合、最新のメジャーバージョンに進んで最新バージョンを使用します。                 |
| `LatestFeature`     | 同じメジャーバージョンの中で、指定されたバージョンに対して最新のフィーチャーバージョンを使用します。                  |
| `Disable`           | ロールフォワードを無効にし、指定されたバージョンのみを使用します。それ以外のバージョンでは実行されません。            |
| `LatestMajor`       | 指定されたバージョンが存在しない場合、最新のメジャーバージョンを使用します。                                  |
 
```
{
  "sdk": {
    "version": "5.0.100",
    "rollForward": "LatestPatch"
  }
}

5.0.100がインストールされていない場合、同じメジャーバージョン（5.0.x）の中で最新のパッチバージョンが選ばれます（例: 5.0.103など）
```

## 3. ランタイムの使用
- .NET SDK を最新にすると、通常はその SDK に対応する最新のランタイムも含まれますが、プロジェクトの設定や `global.json` ファイルの内容によって使用されるランタイムが決まります。
- プロジェクトファイルや `global.json` ファイルで明示的に指定されたバージョンが優先されます。

## 4. 複数バージョンの共存
- PC内に複数の .NET SDK やランタイムのバージョンがインストールされていても、プロジェクトで明示的に指定されているバージョンが優先されるため、問題なく動作します。
